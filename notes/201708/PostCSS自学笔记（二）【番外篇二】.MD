# PostCSSè‡ªå­¦ç¬”è®°ï¼ˆäºŒï¼‰ã€ç•ªå¤–ç¯‡äºŒã€‘

è¿™æ¬¡æˆ‘ç»§ç»­ç ”ç©¶PostCSSçš„æ’ä»¶çš„æ‰§è¡Œé¡ºåºï¼Œ

ä¹‹å‰æœ‰ç ”ç©¶è¿‡åšè¿‡å‡è®¾ï¼Œåœ¨æ’ä»¶åˆ—è¡¨ä¸­ï¼ŒPostCSSçš„æ’ä»¶æ‰§è¡Œé¡ºåºè‡ªä¸Šè€Œä¸‹ï¼Œä¸€åˆ‡çœ‹èµ·æ¥ä¼¼ä¹æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ã€‚

æˆ‘ä¹Ÿçœ‹è¿‡æœ‰å…³PostCSSè§£æå™¨çš„ç›¸å…³æ–‡ç« ï¼Œæœ‰ä»¥ä¸‹ä¸€äº›æ”¶è·ï¼š

![è¯¥ä½œè€…ç†è§£çš„æ¨¡å‹](https://segmentfault.com/img/bVqy8j)

æ‘˜è‡ªï¼š[PostCSS æ˜¯ä¸ªä»€ä¹ˆé¬¼ä¸œè¥¿ï¼Ÿ](https://segmentfault.com/a/1190000003909268)

å½“ç„¶è¿™å¼ å›¾å¹¶æ²¡æœ‰å¯¹Plugin Systemè¿›è¡Œè§£é‡ŠğŸ˜€ã€‚

å†æœ‰ï¼š

![PostCSS è¿è¡Œæœºåˆ¶](http://www.w3cplus.com/sites/default/files/blogs/2017/1707/figure-18.png)

æ‘˜è‡ªï¼š[æ·±å…¥PostCSS Webè®¾è®¡](http://www.w3cplus.com/preprocessor/postcss-book.html)

![PostCSSå¤„ç†æµç¨‹å›¾](http://mmbiz.qpic.cn/mmbiz_png/4biceW6butxr866PuARubjx3hWNgvic4RGOiar4f2AS0zt2Er1vUC7pf5Ey0rMfJmJVE6sWhFJjMqrYbBy9yc4cJw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)

æ‘˜è‡ªï¼š[å†™CSSçš„å§¿åŠ¿](https://mp.weixin.qq.com/s/2CgHH0gwyUNkLcGgmICtfw)

è¿™ä¸¤å¼ å›¾åˆ™åº”è¯¥æ˜¯è¯´æ˜äº†æˆ‘ä¹‹å‰çš„å‡è®¾ï¼Œæ’ä»¶ä¸­çš„æ‰§è¡Œé¡ºåº**è‡ªä¸Šè€Œä¸‹**ã€‚

ä½†æ˜¯è¿™äº›èµ„æ–™ä¸æ˜ä¸ç™½çš„ï¼Œæˆ‘å†³å®šè¿›ä¸€æ­¥é˜…è¯»ç›¸å…³æ–‡ç« æ‰¾å‡ºçœŸç›¸ï¼Œä¸è¿‡ç ”ç©¶è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿä¾ç„¶æ·±æ€è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿè®¸æˆ‘æœ¬ä¸åº”è¯¥çº ç»“è¿™ä¸ªï¼Œå› ä¸ºæˆ–è®¸æ ¹æœ¬æ²¡æœ‰æ„ä¹‰ï¼Ÿæˆ–è€…è¿™ä¸ªå·¥ä½œæ–¹å¼å¹¶éä¸PostCSSæœ¬èº«æœ‰å…³ï¼Ÿ

äºæ˜¯æˆ‘åˆæŠŠä¹‹å‰æ”¶é›†çš„PostCSSçš„æ–‡ç« ç¿»äº†ä¸€éï¼Œæˆ‘ä»¬å†æ¥ä¸€ä¸ªä¸ªè¿‡ä¸€éğŸ˜œã€‚

### å…ˆæ¥çœ‹çœ‹ä¸€ç‰‡æ¥è‡ªsmashingmagazineçš„è¿™æ®µ[POSTCSS PLUGIN INSTALLATION EXAMPLE](https://www.smashingmagazine.com/2015/12/introduction-to-postcss/#postcss-plugin-installation-example)

> In the array, we can include the necessary `require` statements that return the plugins and that are then called immediately. If you would like to read more about this concept, look through â€œ[Functions as First-Class Citizens in JavaScript](http://ryanchristiani.com/functions-as-first-class-citizens-in-javascript/)â€ by Ryan Christiani.

ä¼šä¸ä¼šè·Ÿè¿™ä¸ªæœ‰å…³å‘¢ï¼Œæˆ‘å…ˆåŸ‹ä¸ªä¼ç¬”ã€‚

### å†æ¥çœ‹çœ‹å¦ä¸€ç¯‡[PostCSS Quickstart Guide: Exploring Pluginsd](https://webdesign.tutsplus.com/tutorials/postcss-quickstart-guide-exploring-plugins--cms-24566)çš„**Plugin Execution Sequence**ä¸­è¿™æ®µ

> One of the main considerations you have to make when loading up the array of PostCSS plugins is the order in which you run them. Youâ€™ll have to pause and think through your list, determining if one plugin might need to run after another in order to do what you want it to.

é„™äººè¯‘ï¼š*æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„éœ€è¦è€ƒè™‘çš„ä¸€ç‚¹æ˜¯ï¼Œå½“ä½ åœ¨åŠ è½½PostCSSæ’ä»¶æ•°ç»„ä¸­é¡ºåºå°±æ˜¯ä½ æ‰§è¡Œä»–ä»¬çš„é¡ºåºã€‚å› æ­¤ä½ æœ‰å¿…è¦å¥½å¥½åœ¨è¿™ä¸ªæ’ä»¶åˆ—è¡¨è¿™ä¸‹åŠŸå¤«æ€è€ƒä¸€ä¸‹ï¼Œæ¥ç¡®å®šä½ æƒ³è¦çš„ä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ’ä»¶æ‰§è¡Œé¡ºåºã€‚*

åŸæ–‡ç¬¬ä¸€å¥è¯å¾ˆå¤æ‚ï¼Œæ‰€ä»¥è‹±è¯­ä¸å¥½çš„ç†è§£èµ·æ¥å¯èƒ½æœ‰äº›è´¹åŠ²ï¼Œå§‘ä¸”å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ æ®µåˆ†åˆ«ç¿»è¯‘å†åˆå¹¶<u>One of the main considerations you have to make</u> when <u>loading up the array of PostCSS plugins</u> is <u>the order in</u> which <u>you run them</u>.

ç„¶åè¿™æ®µåŸæ–‡åä¹Ÿæœ‰ç¤ºä¾‹ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±çœ‹çœ‹åŠ æ·±ç†è§£å’Œè®¤è¯†ã€‚å¹¶ä¸”ä¹Ÿæœ‰ä¸€ä¸ªå°ç»“è®ºï¼š

> The load order for plugins is something that will change with each set of plugins, so you may find you just need to do a little experimentation sometimes to get everything working together nicely.

é„™äººè¯‘ï¼šä½ æ‰€è®¾ç½®çš„æ¯ä¸ªæ’ä»¶éƒ½ä¼šè¢«åŠ è½½çš„æ’ä»¶é¡ºåºæ‰€å½±å“ï¼Œå› æ­¤å¼ºçƒˆå»ºè®®ä½ åœ¨æŸäº›æƒ…å†µä¸‹å¤šåšäº›æµ‹è¯•æ¥è®©ä½ çš„æ’ä»¶ä»¬è¿è¡Œçš„æ›´åŠ å®Œç¾~

å¥½äº†çœ‹åˆ°è¿™é‡Œï¼Œå…¶å®ç­”æ¡ˆå¤§è‡´å·²ç»æ­æ™“ï¼Œä¹Ÿè®¸ä½ è§‰å¾—è¿™ä¸æ˜¯å¾ˆè‡ªç„¶çš„ä»ä¸Šè€Œä¸‹ä¹ˆï¼Œä¸ºä½•ä½œè€…è¦çº ç»“è¿™ä¹ˆä¹…è¿˜å†™äº†è¿™ä¹ˆä¸€ç¯‡é•¿ç¯‡å¤§è®ºçš„æ–‡ç« ã€‚å¦‚æœä½ è¿˜æ²¡çœ‹è¿‡ä¹‹å‰æˆ‘ä¸ºä½•çº ç»“è¿™ä¸ªé¡ºåºé—®é¢˜ï¼Œå¯ä»¥çœ‹çœ‹[PostCSSè‡ªå­¦ç¬”è®°ï¼ˆäºŒï¼‰ã€æ’ä»¶ç¯‡ã€‘#CSSNANO](https://github.com/whidy/Notes/blob/master/notes/201708/PostCSS%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%E3%80%90%E6%8F%92%E4%BB%B6%E7%AF%87%E3%80%91.MD#cssnano)éƒ¨åˆ†ä»¥åŠ[PostCSSè‡ªå­¦ç¬”è®°ï¼ˆäºŒï¼‰ã€ç•ªå¤–ç¯‡ä¸€ã€‘](https://github.com/whidy/Notes/blob/master/notes/201708/PostCSS%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%E3%80%90%E7%95%AA%E5%A4%96%E7%AF%87%E4%B8%80%E3%80%91.MD)ã€‚

### ç»“è®º

å…¶å®ï¼Œå…³äºé¡ºåºçš„ç–‘é—®æˆ‘è§‰å¾—å·®ä¸å¤šå°±æ­¤æ‰“ä½ï¼Œä¹Ÿè®¸å…¶ä¸­çš„ç¡®æœ‰äº›å¥‡æ€ªçš„ç°è±¡ï¼Œä½†æ˜¯è¿™ä¸ªåŸºæœ¬ä¸å½±å“æˆ–è€…è¯´æ²¡æœ‰è¿½ç©¶å…¶æ ¹æœ¬çš„æ„ä¹‰ï¼Œæˆ–è®¸çœŸè¦æ‰“ç ´æ²™é”…é—®åˆ°åº•å°±è¦å‘é‚®ä»¶ç»™PostCSSä½œè€…äº†ã€‚è€Œä½œä¸ºæ™®é€šå¼€å‘äººå‘˜ï¼Œä¹Ÿè®¸æ²¡æœ‰å¿…è¦èŠ±å¤ªå¤šç²¾åŠ›å»ç ”ç©¶è¿™ä¸ªï¼Œæˆ‘ä»¬çŸ¥é“PostCSSæ’ä»¶çš„é¡ºåºä¸€èˆ¬æ¥è¯´æ˜¯ä»ä¸Šå¾€ä¸‹æ‰§è¡Œçš„ï¼Œä¸è¦çŠ¯ä½çº§çš„é¡ºåºé”™è¯¯ï¼ˆä¾‹å¦‚importå†™åœ¨åˆ—è¡¨æœ«å°¾ï¼‰ï¼Œå¤§éƒ¨åˆ†åœºæ™¯éƒ½ä¼šå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœäº†ğŸ™ƒ